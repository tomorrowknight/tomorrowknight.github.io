function getUrlParameter(a){var d,e,b=decodeURIComponent(window.location.search.substring(1)),c=b.split("&");for(e=0;e<c.length;e++)if(d=c[e].split("="),d[0]===a)return void 0===d[1]||d[1]}function update_checkbox(a){obj=document.getElementById(a+"All"),"checkbox"==obj.type&&(1==obj.checked?select_all(a):unselect_all(a))}function select_all(a){var b,c;for(b=1;;){if(c=document.getElementById(a+b),null==c)break;"checkbox"==c.type&&(c.checked=!0,b++)}}function unselect_all(a){var b,c;for(b=1;;){if(c=document.getElementById(a+b),null==c)break;"checkbox"==c.type&&(c.checked=!1,b++)}}function replaceAll(a,b,c){return c.replace(new RegExp(a,"g"),b)}function formatCurrency(a){a=a.toString().replace(/\$|\,/g,""),isNaN(a)&&(a="0"),sign=a==(a=Math.abs(a)),a=Math.floor(100*a+.50000000001),cents=a%100,a=Math.floor(a/100).toString(),cents<10&&(cents="0"+cents);for(var b=0;b<Math.floor((a.length-(1+b))/3);b++)a=a.substring(0,a.length-(4*b+3))+","+a.substring(a.length-(4*b+3));return(sign?"":"-")+""+a+"."+cents}function IsNumeric(a){var c,b="0123456789.-",d=!0;if(0==a.length)return!1;for(i=0;i<a.length&&1==d;i++)c=a.charAt(i),b.indexOf(c)==-1&&(d=!1);return d}function find_next_item_num(){var a="0";return $("[id^=ItemNum\\[]").each(function(){IsNumeric($(this).val())&&(a=$(this).val())}),parseInt(a)+1}function assign_serial_no(){var a=1;$("[id^=ItemNum\\[]").each(function(b,c){var d=$(this).closest("div");"none"!=d.css("display")&&($(this).val(a),a+=1)})}function update_grand_total(a){a="undefined"!=typeof a&&a;var b=0;$("[id^=Amount\\[]").each(function(a,c){IsNumeric($(this).val().replace(/\,/g,""))&&(b+=parseFloat($(this).val().replace(/\,/g,"")))});var c=0;$("#DiscountAmount").length&&""!=$("#DiscountAmount").val()&&IsNumeric($("#DiscountAmount").val().replace(/\,/g,""))&&(c=parseFloat($("#DiscountAmount").val().replace(/\,/g,"")));var d=0;""!=$("#DiscountPercent").val()&&IsNumeric($("#DiscountPercent").val())&&(d=(b-c)*(parseFloat($("#DiscountPercent").val().replace(/\,/g,""))/100));var e=0;$("#IncludeGST").prop("checked")&&IsNumeric($("#GST").val())&&(e=(b-d-c)*(parseFloat($("#GST").val().replace(/\,/g,""))/100)),$("#sub_total").html("$"+formatCurrency(b)),$("#amount_discount").html("- $"+formatCurrency(d)),$("#amount_gst").html("$"+formatCurrency(e)),$("#grand_total").length&&$("#grand_total").html("$"+formatCurrency(b-c-d+e)),$("#TotalAmount").length&&(a&&""!=$("#TotalAmount").val()||$("#TotalAmount").val(formatCurrency(b-c-d+e))),$("#PaymentCurrencyAmount").val(b-c-d+e),$(".payment_currency_amount").html(formatCurrency(b-c-d+e))}function shortenText(a,b,c){$(a).each(function(){var d,a=$(this).text().replace(b,"$1");$(this).text().length>c&&(d=a+"..."),$(this).text(d)})}